<!DOCTYPE html>
<html lang="null">
    
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Yet another blog">
    <title>Trying out Typescript - Yet another blog</title>
    <meta name="author" content="Justin Calleja">
    <meta name="description" content="Yet another blog">
    
    
        <link rel="alternative" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <meta name="description" content="IntroThe intention was to write some demo code to see what problems I come across while just starting to use Typescript, and to document the “work-arounds” along the way. This is a suitable read for a">
<meta property="og:type" content="blog">
<meta property="og:title" content="Trying out Typescript">
<meta property="og:url" content="http://justincalleja.com/2016/05/28/trying-out-typescript/index.html">
<meta property="og:site_name" content="Yet another blog">
<meta property="og:description" content="IntroThe intention was to write some demo code to see what problems I come across while just starting to use Typescript, and to document the “work-arounds” along the way. This is a suitable read for a">
<meta property="og:image" content="http://justincalleja.com/pub.png">
<meta property="og:image" content="http://justincalleja.com/sub.png">
<meta property="og:image" content="http://justincalleja.com/missing-tsconfig.png">
<meta property="og:image" content="http://justincalleja.com/cannot-find-redis.png">
<meta property="og:image" content="http://justincalleja.com/context-does-not-exist.png">
<meta property="og:image" content="http://justincalleja.com/startsWith-does-not-exist.png">
<meta property="og:updated_time" content="2020-03-26T17:28:06.914Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Trying out Typescript">
<meta name="twitter:description" content="IntroThe intention was to write some demo code to see what problems I come across while just starting to use Typescript, and to document the “work-arounds” along the way. This is a suitable read for a">
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style.min.css" type="text/css">
    <!--STYLES END-->
    <link rel="stylesheet" href="/assets/css/blog.css" type="text/css">
    
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-57452463-1']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

</head>

    <body>
        <div id="blog">
            <header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">Yet another blog</a>
    </h1>
    
</header>
            <nav id="sidebar" data-behavior="1">
    
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/ 
                    ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">Home</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/all-categories
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">Categories</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/all-tags
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">Tags</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/all-archives
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">Archives</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link st-search-show-outputs"
                    href="/#search
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">Search</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/#about
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                    <span class="sidebar-button-desc">About me</span>
                </a>
        </li>
        
    </ul>
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="https://github.com/justincalleja" target="_blank">
            
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub (has blog)</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="https://github.com/justin-calleja" target="_blank">
            
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="https://twitter.com/justin_calleja" target="_blank">
            
                    <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
                    <span class="sidebar-button-desc">Twitter</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="https://www.linkedin.com/pub/justin-calleja/29/334/b28" target="_blank">
            
                    <i class="sidebar-button-icon fa fa-lg fa-linkedin"></i>
                    <span class="sidebar-button-desc">Linked In</span>
                </a>
        </li>
        
    </ul>
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link "
                    href="/atom.xml
                            ">
            
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">RSS</span>
                </a>
        </li>
        
    </ul>
    
</nav>
            <div id="main" data-behavior="1">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
        <div class="post-header main-content-wrap">
    
        <h1 class="post-title" itemprop="headline">Trying out Typescript</h1>
    
    <div class="post-meta">
    <time  itemprop="datePublished" content="Sat May 28 2016 02:00:00 GMT+0200">
        May 28, 2016
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/programming/">programming</a>


    
</div>
</div>
    
    <div class="post-content markdown main-content-wrap" itemprop="articleBody">
        
          
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Intro"><span class="toc-number">1.</span> <span class="toc-text">Intro</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#The-demo"><span class="toc-number">2.</span> <span class="toc-text">The demo</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#pub-ts"><span class="toc-number">3.</span> <span class="toc-text">pub.ts</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#tsconfig-json"><span class="toc-number">3.1.</span> <span class="toc-text">tsconfig.json</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#typings"><span class="toc-number">3.2.</span> <span class="toc-text">typings</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Adding-context"><span class="toc-number">3.3.</span> <span class="toc-text">Adding context</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sub-ts"><span class="toc-number">4.</span> <span class="toc-text">sub.ts</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Conclusion"><span class="toc-number">5.</span> <span class="toc-text">Conclusion</span></a></li></ol>
          
            <h1 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h1><p>The intention was to write some demo code to see what problems I come across while just starting to use <a href="https://www.typescriptlang.org/" target="_blank" rel="external">Typescript</a>, and to document the “work-arounds” along the way. This is a suitable read for anyone who knows what Typescript is, is interested in it, but hasn’t really used it before. You should have <a href="http://redis.io/" target="_blank" rel="external">Redis</a> installed (as well as Node and Typescript) to follow along.</p>
<p>I’m using the <a href="https://atom.io/" target="_blank" rel="external">Atom</a> text editor with the <a href="https://github.com/TypeStrong/atom-typescript" target="_blank" rel="external">atom-typescript</a> package.</p>
<p>A repo for the code in this post is up on <a href="https://github.com/justin-calleja/redis-ts-eg" target="_blank" rel="external">Github</a>. Use <code>npm install &amp;&amp; typings install</code> to get started.</p>
<h1 id="The-demo"><a href="#The-demo" class="headerlink" title="The demo"></a>The demo</h1><p>We’re going to have 2 scripts to run, <code>pub.js</code> and <code>sub.js</code>. <code>pub.js</code> will just start up a Node <a href="https://nodejs.org/api/repl.html" target="_blank" rel="external">REPL</a> exposing a <code>redisClient</code> which we can use to publish messages on channels with. <code>sub.js</code> will be subscribing to channels and listening to messages published by <code>pub.js</code>.</p>
<p>Below is a quick session for illustration:</p>
<p><img src="pub.png" alt="pub.js" title="pub.js"></p>
<p><img src="sub.png" alt="sub.js" title="sub.js"></p>
<p>Simple, but making the compiler happy took a bit of fiddling.</p>
<h1 id="pub-ts"><a href="#pub-ts" class="headerlink" title="pub.ts"></a>pub.ts</h1><h2 id="tsconfig-json"><a href="#tsconfig-json" class="headerlink" title="tsconfig.json"></a>tsconfig.json</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir redis-ts-eg &amp;&amp; <span class="built_in">cd</span> redis-ts-eg</span><br><span class="line">redis-ts-eg$ npm init --yes</span><br><span class="line">redis-ts-eg$ npm i -S redis</span><br><span class="line">redis-ts-eg$ mkdir src lib</span><br></pre></td></tr></table></figure>
<p>If you now open <code>redis-ts-eg</code> in Atom and create <code>pub.ts</code> (note the <code>ts</code> extension) in <code>src</code>, you should get the following error (and suggestion):</p>
<p><img src="missing-tsconfig.png" alt="missing-tsconfig" title="missing-tsconfig"></p>
<p>We’re missing a <a href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html" target="_blank" rel="external">tsconfig.json</a> <a href="https://github.com/TypeStrong/atom-typescript/blob/master/docs/tsconfig.md" target="_blank" rel="external">file</a> and we can get <a href="https://github.com/TypeStrong/atom-typescript" target="_blank" rel="external">atom-typescript</a> to create one for us using the Atom <a href="https://atom.io/packages/command-palette" target="_blank" rel="external">command-palette</a> by hitting <code>cmd-shift-p</code> (OSX) or <code>ctrl-shift-p</code> (Linux/Windows).</p>
<p>Once you have that open, start typing “create tsconfig.json” and you should get the option to select. This creates the file in <code>src</code>, so just move it one directory up to the project root.</p>
<p>So what is <code>tsconfig.json</code> anyway?</p>
<blockquote>A unified project format for TypeScript… The TypeScript compiler (1.5 and above) only cares about <em>compilerOptions</em> and <em>files</em><footer><cite><a href="https://github.com/TypeStrong/atom-typescript/blob/master/docs/tsconfig.md#tsconfigjson" target="_blank" rel="external">tsconfig.json atom-typescript doc</a></cite></footer></blockquote>

<p>Ok, so <a href="https://www.typescriptlang.org/docs/handbook/compiler-options.html" target="_blank" rel="external">compilerOptions</a> and <em>files</em> are passed to the Typescript compiler, but this isn’t to say that <code>tsconfig.json</code> is an <a href="https://github.com/TypeStrong/atom-typescript" target="_blank" rel="external">atom-typescript</a> only thing:</p>
<blockquote><br>Using tsconfig.json:<br><br><ul><li>By invoking tsc with no input files, in which case the compiler searches for the tsconfig.json file starting in the current directory and continuing up the parent directory chain.</li><li>By invoking tsc with no input files and a –project (or just -p) command line option that specifies the path of a directory containing a tsconfig.json file.</li></ul>When input files are specified on the command line, tsconfig.json files are ignored.<br><footer><cite><a href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html" target="_blank" rel="external">tsconfig.json Typescript doc</a></cite></footer></blockquote>

<p>i.e. both Typescript and atom-typescript use the file (the teams behind each collaborate to avoid conflicts). </p>
<p>In <code>tsconfig.json</code>, <a href="https://github.com/TypeStrong/atom-typescript/blob/master/docs/tsconfig.md#filesglob" target="_blank" rel="external">filesGlob</a> is a field used by atom-typescript to keep <code>files</code> up to date. i.e. any files matched by <code>filesGlob</code> are automatically (and individually) listed by Atom in <code>files</code> (which <em>is</em> used by <code>tsc</code>, the Typescript compiler).</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">"filesGlob": [</span><br><span class="line">    "**/*.ts",</span><br><span class="line">    "**/*.tsx",</span><br><span class="line">    "!node_modules/**"</span><br><span class="line">],</span><br></pre></td></tr></table></figure>
<h2 id="typings"><a href="#typings" class="headerlink" title="typings"></a>typings</h2><p>Great, so I guess we’re ready to start coding now:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis = <span class="built_in">require</span>(<span class="string">'redis'</span>);</span><br></pre></td></tr></table></figure>
<p><img src="cannot-find-redis.png" alt="Cannot find module &#39;redis&#39;"></p>
<p>Not so fast. We’re importing <code>redis</code> (Typescript style) but the compiler knows nothing about it. To fix this we’ll use <a href="https://github.com/typings/typings" target="_blank" rel="external">typings</a>, the Typescript Definition Manager, to fetch a description of what the <code>redis</code> module is (i.e. a <code>.d.ts</code> file).</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">redis-ts-eg$ <span class="comment"># Install Typings CLI utility if you don't already have it</span></span><br><span class="line">redis-ts-eg$ npm install typings --global</span><br><span class="line">redis-ts-eg$ typings --version</span><br><span class="line"><span class="number">1.0</span>.<span class="number">4</span></span><br><span class="line">redis-ts-eg$ typings search redis</span><br><span class="line">Viewing <span class="number">5</span> of <span class="number">5</span></span><br><span class="line"></span><br><span class="line">NAME            SOURCE HOMEPAGE                                    DESCRIPTION VERSIONS UPDATED</span><br><span class="line">node_redis      dt     https://github.com/mranney/node_redis                   <span class="number">1</span>        <span class="number">2016</span>-<span class="number">03</span>-<span class="number">16</span>T15:<span class="number">55</span>:<span class="number">26.000</span>Z</span><br><span class="line">redis           npm    https://www.npmjs.com/package/redis                     <span class="number">1</span>        <span class="number">2016</span>-<span class="number">05</span>-<span class="number">02</span>T17:<span class="number">09</span>:<span class="number">35.000</span>Z</span><br><span class="line">redis           dt     https://github.com/mranney/node_redis                   <span class="number">1</span>        <span class="number">2016</span>-<span class="number">03</span>-<span class="number">16</span>T15:<span class="number">55</span>:<span class="number">26.000</span>Z</span><br><span class="line">socket.io-redis dt     https://github.com/socketio/socket.io-redis             <span class="number">1</span>        <span class="number">2016</span>-<span class="number">04</span>-<span class="number">01</span>T04:<span class="number">54</span>:<span class="number">12.000</span>Z</span><br><span class="line">ioredis         dt     https://github.com/luin/ioredis                         <span class="number">1</span>        <span class="number">2016</span>-<span class="number">05</span>-<span class="number">21</span>T15:<span class="number">26</span>:<span class="number">53.000</span>Z</span><br></pre></td></tr></table></figure>
<p>You can tell typings to install from one of these <a href="https://github.com/typings/typings#sources" target="_blank" rel="external">sources</a> (assuming a type definition is available at a given source - something you can confirm through searching as done above). <code>npm</code> is the default (configurable through <code>defaultSource</code> in <code>.typingsrc</code>).</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-ts-eg$ typings install redis --save</span><br></pre></td></tr></table></figure>
<p>After installing, you should get a <code>typings.json</code> file and a <code>typings</code> directory. If you save <code>tsconfig.json</code> now, it should update <code>files</code> to:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">"files": [</span><br><span class="line">    "src/pub.ts",</span><br><span class="line">    "typings/index.d.ts",</span><br><span class="line">    "typings/modules/redis/index.d.ts"</span><br><span class="line">],</span><br></pre></td></tr></table></figure>
<p>It would work just as well without <code>typings/modules/redis/index.d.ts</code> as <code>typings/index.d.ts</code> references it. In any case, the “Cannot find module ‘redis’” error should be gone now (try closing and re-opening the file if not).</p>
<p>Before continuing, notice that the compiler generates <code>src/pub.js</code> (even when we had an error - Typescript will still transpile to Javascript even with errors). To move the compiler’s output to <code>lib</code> we can add the following to <code>compilerOptions</code> in <code>tsconfig.json</code>:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"compilerOptions": &#123;</span><br><span class="line">  "outDir": "lib",</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure>
<p>Saving <code>pub.ts</code> now should generate <code>pub.js</code> in <code>lib</code>.</p>
<p>We can move on by importing the next module we’ll need and going through a similar process as with the <code>redis</code> module:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> repl = <span class="built_in">require</span>(<span class="string">'repl'</span>);</span><br></pre></td></tr></table></figure>
<p><a href="https://nodejs.org/api/repl.html" target="_blank" rel="external">repl</a> is a module that comes with the Node distribution, but <code>tsc</code> has no knowledge of it.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">redis-ts-eg$ typings search node</span><br><span class="line">Viewing <span class="number">20</span> of <span class="number">212</span></span><br><span class="line"></span><br><span class="line">NAME                          SOURCE HOMEPAGE                                           DESCRIPTION VERSIONS UPDATED</span><br><span class="line">analytics-node                dt     https://segment.com/docs/libraries/node/                       <span class="number">1</span>        <span class="number">2016</span>-<span class="number">03</span>-<span class="number">17</span>T12:<span class="number">06</span>:<span class="number">54.000</span>Z</span><br><span class="line">i18next-node-fs-backend       dt     https://github.com/i18next/i18next-node-fs-backend             <span class="number">1</span>        <span class="number">2016</span>-<span class="number">03</span>-<span class="number">19</span>T10:<span class="number">37</span>:<span class="number">45.000</span>Z</span><br><span class="line">i18n-node                     dt     https://github.com/mashpie/i18n-node                           <span class="number">1</span>        <span class="number">2016</span>-<span class="number">05</span>-<span class="number">21</span>T15:<span class="number">25</span>:<span class="number">45.000</span>Z</span><br><span class="line">jasmine-node                  dt     https://github.com/mhevery/jasmine-node                        <span class="number">1</span>        <span class="number">2016</span>-<span class="number">03</span>-<span class="number">16</span>T15:<span class="number">55</span>:<span class="number">26.000</span>Z</span><br><span class="line">jasmine-node-promise-matchers global                                                                <span class="number">1</span>        <span class="number">2016</span>-<span class="number">03</span>-<span class="number">10</span>T14:<span class="number">35</span>:<span class="number">55.000</span>Z</span><br><span class="line">kafka-node                    dt     https://github.com/SOHU-Co/kafka-node/                         <span class="number">1</span>        <span class="number">2016</span>-<span class="number">03</span>-<span class="number">16</span>T15:<span class="number">55</span>:<span class="number">26.000</span>Z</span><br><span class="line">mocha-node                    dt     http://mochajs.org/                                            <span class="number">1</span>        <span class="number">2016</span>-<span class="number">03</span>-<span class="number">17</span>T12:<span class="number">06</span>:<span class="number">54.000</span>Z</span><br><span class="line">moment-node                   dt     https://github.com/timrwood/moment                             <span class="number">1</span>        <span class="number">2016</span>-<span class="number">05</span>-<span class="number">11</span>T04:<span class="number">33</span>:<span class="number">38.000</span>Z</span><br><span class="line">node                          dt     http://nodejs.org/                                             <span class="number">5</span>        <span class="number">2016</span>-<span class="number">05</span>-<span class="number">23</span>T03:<span class="number">57</span>:<span class="number">54.000</span>Z</span><br><span class="line">node                          env                                                                   <span class="number">5</span>        <span class="number">2016</span>-<span class="number">05</span>-<span class="number">07</span>T21:<span class="number">03</span>:<span class="number">04.000</span>Z</span><br><span class="line">node-<span class="number">4</span>                        dt     http://nodejs.org/                                             <span class="number">1</span>        <span class="number">2016</span>-<span class="number">05</span>-<span class="number">14</span>T16:<span class="number">59</span>:<span class="number">20.000</span>Z</span><br><span class="line">node-array-ext                dt     https://github.com/Beng89/node-array-ext                       <span class="number">1</span>        <span class="number">2016</span>-<span class="number">03</span>-<span class="number">16</span>T15:<span class="number">55</span>:<span class="number">26.000</span>Z</span><br><span class="line">node-azure/azure              dt     https://github.com/WindowsAzure/azure-sdk-for-node             <span class="number">1</span>        <span class="number">2016</span>-<span class="number">03</span>-<span class="number">16</span>T15:<span class="number">55</span>:<span class="number">26.000</span>Z</span><br><span class="line">node-cache                    dt     https://github.com/tcs-de/nodecache                            <span class="number">1</span>        <span class="number">2016</span>-<span class="number">03</span>-<span class="number">17</span>T12:<span class="number">06</span>:<span class="number">54.000</span>Z</span><br><span class="line">node-calendar                 dt     https://www.npmjs.com/package/node-calendar                    <span class="number">1</span>        <span class="number">2016</span>-<span class="number">03</span>-<span class="number">16</span>T15:<span class="number">55</span>:<span class="number">26.000</span>Z</span><br><span class="line">node-config-manager           dt     https://www.npmjs.com/package/node-config-manager              <span class="number">1</span>        <span class="number">2016</span>-<span class="number">03</span>-<span class="number">16</span>T15:<span class="number">55</span>:<span class="number">26.000</span>Z</span><br><span class="line">node-dir                      dt     https://github.com/fshost/node-dir                             <span class="number">1</span>        <span class="number">2016</span>-<span class="number">03</span>-<span class="number">16</span>T15:<span class="number">55</span>:<span class="number">26.000</span>Z</span><br><span class="line">node-ffi                      dt     https://github.com/rbranson/node-ffi                           <span class="number">1</span>        <span class="number">2016</span>-<span class="number">03</span>-<span class="number">16</span>T15:<span class="number">55</span>:<span class="number">26.000</span>Z</span><br><span class="line">node-ffi/node-ffi-buffer      dt                                                                    <span class="number">1</span>        <span class="number">2014</span>-<span class="number">06</span>-<span class="number">18</span>T21:<span class="number">31</span>:<span class="number">11.000</span>Z</span><br><span class="line">node-fibers                   dt     https://github.com/laverdet/node-fibers                        <span class="number">1</span>        <span class="number">2016</span>-<span class="number">03</span>-<span class="number">17</span>T12:<span class="number">06</span>:<span class="number">54.000</span>Z</span><br></pre></td></tr></table></figure>
<p>After searching, you’ll see we get two options from the list above, one with a source of <code>dt</code>, and one with a source of <code>env</code>. I’ve tried installing both and they’re identical in their <code>repl</code> definitions so we’ll just pick one:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-ts-eg$ typings install dt~node --save --global</span><br></pre></td></tr></table></figure>
<p>From what I can tell, we need to use <code>--global</code> with this one because of the contents of the definitions in its <code>.d.ts</code> (i.e. <code>typings/globals/node/index.d.ts</code>). Unlike the redis one, not everything in this <code>.d.ts</code> file is wrapped around a module declaration which exports the desired definitions. Instead, there are global definitions like these:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">declare var process: NodeJS.Process;</span><br><span class="line">declare var global: NodeJS.Global;</span><br><span class="line"></span><br><span class="line">declare var __filename: string;</span><br><span class="line">declare var __dirname: string;</span><br><span class="line"></span><br><span class="line">declare function setTimeout(callback: (...args: any[]) =&gt; void, ms: number, ...args: any[]): NodeJS.Timer;</span><br><span class="line">declare function clearTimeout(timeoutId: NodeJS.Timer): void;</span><br><span class="line">// etc…</span><br></pre></td></tr></table></figure>
<p>This is as opposed to contained (wrapped in a module) type definitions like the ones for redis which are scoped to a variable after importing the redis module.</p>
<p>Apparently, typings can make this distinction because it will fail to install <code>dt~node</code> without the <code>--global</code> flag.</p>
<p>In any case, the compiler now knows about <code>repl</code> so we can finish off <code>pub.ts</code>:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis = <span class="built_in">require</span>(<span class="string">'redis'</span>);</span><br><span class="line"><span class="keyword">import</span> repl = <span class="built_in">require</span>(<span class="string">'repl'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> redisClient = redis.createClient();</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> replServer = repl.start(&#123;</span><br><span class="line">  prompt: <span class="string">'&gt;&gt; '</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">replServer.context.redisClient = redisClient;</span><br></pre></td></tr></table></figure>
<p>Which gives us our next challenge:</p>
<p><img src="context-does-not-exist.png" alt="Property &#39;context&#39; does not exist on type &#39;EventEmitter&#39;"></p>
<h2 id="Adding-context"><a href="#Adding-context" class="headerlink" title="Adding context"></a>Adding context</h2><p>The following is what the compiler knows about the <code>repl</code> module from <code>typings/globals/node/index.d.ts</code> (which should be automatically added to your <code>tsconfig.json</code> thanks to <code>atom-typescript</code>):</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="module"><span class="keyword">module</span> "repl" </span>&#123;</span><br><span class="line">    <span class="keyword">import</span> * as stream from <span class="string">"stream"</span>;</span><br><span class="line">    <span class="keyword">import</span> * as events from <span class="string">"events"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">export</span> <span class="interface"><span class="keyword">interface</span> ReplOptions </span>&#123;</span><br><span class="line">        prompt?: <span class="built_in">string</span>;</span><br><span class="line">        input?: NodeJS.ReadableStream;</span><br><span class="line">        output?: NodeJS.WritableStream;</span><br><span class="line">        terminal?: <span class="built_in">boolean</span>;</span><br><span class="line">        <span class="built_in">eval</span>?: <span class="built_in">Function</span>;</span><br><span class="line">        useColors?: <span class="built_in">boolean</span>;</span><br><span class="line">        useGlobal?: <span class="built_in">boolean</span>;</span><br><span class="line">        ignoreUndefined?: <span class="built_in">boolean</span>;</span><br><span class="line">        writer?: <span class="built_in">Function</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params">options: ReplOptions</span>): <span class="title">events</span>.<span class="title">EventEmitter</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>No mention of <code>context</code> anywhere. The easiest thing to do would be to add it right there. But what are we going to do in the next project which needs the same thing? Repeat the operation? Not fun.</p>
<p>At this point you could start managing your own <code>index.d.ts</code> for Node. Maybe submit a pull request with your changes and hope they get added. By managing your own type definitions in a repo you manage, you can import them into your code and re-use them.</p>
<p>However, for a throw-away project like this, I’d rather not have to stay doing this. Instead, I’ll just add a <code>typingslocal</code> directory to this project and add type definitions extending existing ones there.</p>
<p><strong>Note</strong>: the name is important if you want to keep <code>atom-typesript</code>‘s auto management of the <code>files</code> field in <code>tsconfig.json</code>. We want definition files under <code>typingslocal</code> to be listed <strong>below</strong> those in <code>typings</code>. That should be the case with <code>typingslocal</code> (it is for me), but if for some reason this ordering changes with whatever version of <code>atom-typescript</code> you’re using, it’s best to set <code>rewriteTsconfig</code> to <code>off</code> (in tsconfig.json) and manage <code>files</code> yourself. That way you can make sure that <code>d.ts</code> files in <code>typingslocal</code> are listed after the ones in <code>typings</code> in <code>tsconfig.json</code>‘s <code>files</code> field.</p>
<p>It seems to me that all we need to do in this case is define our own type extending <code>EventEmitter</code>, giving it a context and using that type for the return value of <code>start</code>:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// typingslocal/global/node/index.d.ts</span></span><br><span class="line"><span class="keyword">declare</span> <span class="module"><span class="keyword">module</span> "repl" </span>&#123;</span><br><span class="line">  <span class="keyword">import</span> * as events from <span class="string">"events"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="interface"><span class="keyword">interface</span> ReplEventEmitter <span class="keyword">extends</span> events.EventEmitter </span>&#123;</span><br><span class="line">    context: <span class="built_in">any</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params">options: ReplOptions</span>): <span class="title">ReplEventEmitter</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>After saving <code>tsconfig.json</code>, <code>files</code> should refresh and the error in <code>pub.ts</code> should go away.</p>
<h1 id="sub-ts"><a href="#sub-ts" class="headerlink" title="sub.ts"></a>sub.ts</h1><p>Moving on to <code>sub.ts</code> - if you copy-paste the following, you’ll find that the compiler is only unaware of the <code>startsWith</code> method on strings:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis = <span class="built_in">require</span>(<span class="string">'redis'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> redisClient = redis.createClient();</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> defaultChannel = <span class="string">'helloChannel'</span>;</span><br><span class="line"><span class="keyword">let</span> args = process.argv.slice(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">let</span> channelName: <span class="built_in">string</span> = args[<span class="number">0</span>] || defaultChannel;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">subscribe</span>(<span class="params">redisClient, channelName</span>) </span>&#123;</span><br><span class="line">  redisClient.subscribe(channelName, (err, channel) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</span><br><span class="line">    <span class="built_in">console</span>.log(`now listening on channel: <span class="string">'$&#123;channelName&#125;'</span>`);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">redisClient.on(<span class="string">'error'</span>, <span class="built_in">console</span>.error);</span><br><span class="line"></span><br><span class="line">redisClient.on(<span class="string">'message'</span>, (channelName, msg: <span class="built_in">String</span>) =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(`$&#123;channelName&#125;: $&#123;msg&#125;`);</span><br><span class="line">  <span class="keyword">if</span> (msg === <span class="string">'/unsubscribe'</span>) &#123;</span><br><span class="line">    redisClient.unsubscribe(channelName);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (msg.startsWith(<span class="string">'/subscribe'</span>)) &#123;</span><br><span class="line">    <span class="keyword">let</span> channel = msg.split(<span class="string">' '</span>).slice(<span class="number">1</span>).join(<span class="string">' '</span>);</span><br><span class="line">    subscribe(redisClient, channel);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">redisClient.on(<span class="string">'unsubscribe'</span>, (channelName, count) =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(`unsubscribing from $&#123;channelName&#125;. Client is now listening to $&#123;count&#125; channel(s)`);</span><br><span class="line">  <span class="keyword">if</span> (count === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'no more subscriptions; exiting…'</span>);</span><br><span class="line">    process.exit();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">redisClient.on(<span class="string">'subscribe'</span>, (channelName, count) =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(`listening on channel: $&#123;channelName&#125;. Client is now listening to $&#123;count&#125; channel(s)`);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">subscribe(redisClient, channelName);</span><br></pre></td></tr></table></figure>
<p><img src="startsWith-does-not-exist.png" alt="startsWith does not exist on type &#39;String&#39;"></p>
<p>Clearly, we need to teach the compiler about <code>startsWith</code> (Node, which is what we’ll be running on, has this method already defined on the String prototype… we just need to make the compiler happy).</p>
<p>I came across a way to do this <a href="http://www.mzan.com/article/36432983-extension-methods-in-typescript-system.shtml" target="_blank" rel="external">here</a>. It is based on “global augmentation”:</p>
<blockquote>TypeScript also has the notion of global augmentations of the form <code>declare global { }</code>. This allows modules to augment global types such as <code>Array</code> if necessary.<footer><cite><a href="https://www.typescriptlang.org/docs/release-notes/typescript-1.8.html" target="_blank" rel="external">Augmenting global/module scope from modules</a></cite></footer></blockquote>

<p>An example of augmenting <code>Array</code> is given in the <a href="https://www.typescriptlang.org/docs/release-notes/typescript-1.8.html" target="_blank" rel="external">1.8 release notes</a>:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Ensure this is treated as a module.</span></span><br><span class="line"><span class="keyword">export</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> global &#123;</span><br><span class="line">    <span class="interface"><span class="keyword">interface</span> Array&lt;T&gt; </span>&#123;</span><br><span class="line">        mapToNumbers(): <span class="built_in">number</span>[];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Following this pattern, we can fix our issue with:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// typingslocal/globals/runtime/index.d.ts</span></span><br><span class="line"><span class="keyword">export</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> global &#123;</span><br><span class="line">  <span class="interface"><span class="keyword">interface</span> String </span>&#123;</span><br><span class="line">    startsWith(searchString: <span class="built_in">string</span>, position?: <span class="built_in">number</span>): <span class="built_in">boolean</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Note: if the use of an empty export to ensure the file is treated as a module doesn’t make sense to you, read <a href="https://basarat.gitbooks.io/typescript/content/docs/project/modules.html" target="_blank" rel="external">this</a>.</p>
<p>You should now have no compiler errors and be able to run the 2 scripts as shown in the demo at the start of this post.</p>
<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>This post was meant as a “how-to” for people (and by someone) just getting started with Typescript. We’ve seen a lot of friction from the compiler and zero opportunities for it to help us (using JS would have been much easier for this demo). This can be expected to change as we start defining our own types and our code base gets larger :)</p>

        
        
            
        
    </div>
    <div class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/node/">node</a> <a class="tag tag--primary tag--small t-link" href="/tags/redis/">redis</a> <a class="tag tag--primary tag--small t-link" href="/tags/typescript/">typescript</a>

            </div>
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2020/03/26/using-plain-pg-with-nestjs/"  data-tooltip="Using plain pg with Nest.js">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/04/17/serving-a-webpack-bundle-in-spring-boot/" data-tooltip="Serving a Webpack bundle in Spring Boot">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://justincalleja.com/2016/05/28/trying-out-typescript/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://justincalleja.com/2016/05/28/trying-out-typescript/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://justincalleja.com/2016/05/28/trying-out-typescript/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>
        
            <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 Justin Calleja.
    </span>
    <small class="attribution">Powered by <a href="https://hexo.io/" title="Hexo" target="_blank" rel="external">Hexo</a> with <a href="https://github.com/LouisBarranqueiro/tranquilpeak-hexo-theme" title="Tranquilpeak" target="_blank" rel="external">Tranquilpeak</a> theme by <a href="https://github.com/LouisBarranqueiro" title="Louis Barranqueiro" target="_blank" rel="external">Louis Barranqueiro</a></small>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="1">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2020/03/26/using-plain-pg-with-nestjs/"  data-tooltip="Using plain pg with Nest.js">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/04/17/serving-a-webpack-bundle-in-spring-boot/" data-tooltip="Serving a Webpack bundle in Spring Boot">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://justincalleja.com/2016/05/28/trying-out-typescript/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://justincalleja.com/2016/05/28/trying-out-typescript/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://justincalleja.com/2016/05/28/trying-out-typescript/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>
                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="1">
    <ul class="share-options">
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://justincalleja.com/2016/05/28/trying-out-typescript/">
                <i class="fa fa-google-plus"></i><span class="">Share on Google Plus</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://justincalleja.com/2016/05/28/trying-out-typescript/">
                <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://justincalleja.com/2016/05/28/trying-out-typescript/">
                <i class="fa fa-twitter"></i><span>Share on Twitter</span>
            </a>
        </li>
    </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
            
        </div>
        <div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <h4 id="about-card-name">Justin Calleja</h4>
        
        
        
            <h5 id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                Malta
            </h5>
        
    </div>
</div>
        <div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/script.min.js" type="text/javascript"></script>
<!--SCRIPTS END-->

    <script type="text/javascript">
        var disqus_shortname = 'justincalleja';
        (function() {
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>


    <script type="text/javascript">
        (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
                (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
            e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
        })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

        _st('install','11bRT8o5XAX6-5fzFhD7','2.0.0');
    </script>


</html>
